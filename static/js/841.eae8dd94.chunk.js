"use strict";(self.webpackChunksocial_media=self.webpackChunksocial_media||[]).push([[841],{6841:function(t,e,s){s.r(e),s.d(e,{default:function(){return K}});var r=s(8683),i=s(5671),o=s(3144),n=s(136),a=s(5716),u=s(2791),l=s(364),p=s(1631),f="avatar_ava__OOq8i",c=s(2026),d=s(184),h=function(t){return(0,d.jsx)("div",{children:(0,d.jsx)("img",{className:f,src:t.photo||c})})},x="description_descr__YbYn+",m="description_description_items__Ch-Yr",j=s(2871),v=s(885),P="profile-status_profile_status__z-gMg",_=function(t){var e=(0,u.useState)(!1),s=(0,v.Z)(e,2),r=s[0],i=s[1],o=(0,u.useState)(t.profileStatus),n=(0,v.Z)(o,2),a=n[0],l=n[1];return(0,u.useEffect)((function(){l(t.profileStatus)}),[t.profileStatus]),(0,d.jsxs)("div",{className:P,children:[!r&&(0,d.jsx)("span",{onDoubleClick:function(){i(!0)},children:t.profileStatus||"No status"}),r&&(0,d.jsx)("input",{onChange:function(t){l(t.target.value)},onBlur:function(){i(!1),t.updateProfileStatus(a)},autoFocus:!0,value:a})]})},S=function(t){var e=t.profile,s=t.myProfilePhoto,r=t.profileStatus,i=t.updateProfileStatus,o=t.isOwner,n=t.setMainPhoto;if(!e)return(0,d.jsx)(j.Z,{});return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:x,children:[(0,d.jsx)(h,{photo:e.photos.large,myProfilePhoto:s,userId:e.userId}),(0,d.jsxs)("div",{className:m,children:[(0,d.jsx)("div",{children:e.aboutMe}),(0,d.jsx)("div",{children:e.fullName}),(0,d.jsx)("div",{children:"Old: 23"})]})]}),!o&&(0,d.jsx)("input",{onChange:function(t){n(t.target.files[0])},type:"file"}),(0,d.jsx)(_,{profileStatus:r,updateProfileStatus:i})]})},g=s(704),Z=s(6139),y=s(3713),N=s(6019),C=s(2982),b="post-item_postItem__opKYc",k=function(t){var e=(0,C.Z)(t.postsData).reverse().map((function(t){return(0,d.jsxs)("div",{className:b,children:[(0,d.jsx)("div",{children:(0,d.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSbvaBdtJ4GaN7m79jU-Y47NqT3Grvxd7qIZ9VKUZKyU1ynYKxoNdlQCixTRDnliBE62os&usqp=CAU"})}),(0,d.jsx)("div",{children:t.text}),(0,d.jsxs)("div",{children:["Likes: ",t.likesCount]})]})}));return(0,d.jsx)("div",{children:e})},D="posts_posts__vfLsB",I=(0,y.DT)(10),w=(0,y.oQ)(2),A=(0,g.Z)({form:"ProfileAddNewPostForm"})((function(t){return(0,d.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,d.jsx)(Z.Z,{component:N.gx,placeholder:"Type your text",name:"NewPostText",validate:[y.C1,I,w]}),(0,d.jsx)("button",{children:"Add Post"})]})})),M=u.memo((function(t){var e=t.profileData;return(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:D,children:[(0,d.jsx)("h3",{children:"My Posts"}),(0,d.jsx)(A,{onSubmit:function(e){t.addPost(e.NewPostText)}}),(0,d.jsx)(k,{postsData:e.postsData})]})})})),q=(0,l.$j)((function(t){return{profileData:t.profilePage}}),(function(t){return{addPost:function(e){t((0,p.HP)(e))}}}))(M),T="profile_profile__I67jP",U=function(t){return(0,d.jsxs)("div",{className:T,children:[(0,d.jsx)(S,{profile:t.profile,myProfilePhoto:t.profilePhoto,profileStatus:t.profileStatus,updateProfileStatus:t.updateProfileStatus,isOwner:t.owner,setMainPhoto:t.setMainPhoto}),(0,d.jsx)(q,{})]})},O=s(1548),Y=s(7781),B=s(5628),F=function(t){(0,n.Z)(s,t);var e=(0,a.Z)(s);function s(){return(0,i.Z)(this,s),e.apply(this,arguments)}return(0,o.Z)(s,[{key:"refreshProfile",value:function(){var t=this.props.params.userId;t||(t=this.props.authorizedUserId),this.props.getProfile(t),this.props.getProfileStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e){this.props.params.userId!==t.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,d.jsx)(U,(0,r.Z)((0,r.Z)({},this.props),{},{profile:this.props.profile,isOwner:!!this.props.params.userId}))}}]),s}(u.Component),K=(0,Y.qC)((0,l.$j)((function(t){return{profile:t.profilePage.profile,profileStatus:t.profilePage.profileStatus,authorizedUserId:t.auth.userId}}),{getProfile:p.Ai,getProfileStatus:p.TL,updateProfileStatus:p.vq,setMainPhoto:p.aQ}),B.Z,O.D)(F)},1548:function(t,e,s){s.d(e,{D:function(){return d}});var r=s(8683),i=s(5671),o=s(3144),n=s(136),a=s(5716),u=s(2791),l=s(364),p=s(6871),f=s(184),c=function(t){return{isAuth:t.auth.isAuth}},d=function(t){var e=function(e){(0,n.Z)(u,e);var s=(0,a.Z)(u);function u(){return(0,i.Z)(this,u),s.apply(this,arguments)}return(0,o.Z)(u,[{key:"render",value:function(){return this.props.isAuth?(0,f.jsx)(t,(0,r.Z)({},this.props)):(0,f.jsx)(p.Fg,{to:"/login"})}}]),u}(u.Component);return(0,l.$j)(c)(e)}}}]);
//# sourceMappingURL=841.eae8dd94.chunk.js.map