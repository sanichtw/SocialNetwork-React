{"version":3,"file":"static/js/841.eae8dd94.chunk.js","mappings":"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","sources":["webpack://social-media/./src/components/profile/avatar/avatar.module.css?3145","components/profile/avatar/avatar.js","webpack://social-media/./src/components/profile/description/description.module.css?77d6","webpack://social-media/./src/components/profile/description/profile-status/profile-status.module.css?b2a7","components/profile/description/profile-status/profile-status-with-hooks.js","components/profile/description/description.js","webpack://social-media/./src/components/profile/posts/post-item/post-item.module.css?7fdc","components/profile/posts/post-item/post-item.js","webpack://social-media/./src/components/profile/posts/posts.module.css?ca8d","components/profile/posts/posts.js","components/profile/posts/post-container.js","webpack://social-media/./src/components/profile/profile.module.css?5210","components/profile/Profile.js","components/profile/ProfileContainer.js","hoc/withAuthRedirect.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"ava\":\"avatar_ava__OOq8i\"};","import s from './avatar.module.css';\r\nimport userIcon from './../../../assets/images/user-icon.png'\r\nconst ProfileAvatar = (props) => {\r\n    return (\r\n        <div>\r\n            <img className={s.ava} src={props.photo || userIcon}></img>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ProfileAvatar;","// extracted by mini-css-extract-plugin\nexport default {\"descr\":\"description_descr__YbYn+\",\"description_items\":\"description_description_items__Ch-Yr\"};","// extracted by mini-css-extract-plugin\nexport default {\"profile_status\":\"profile-status_profile_status__z-gMg\"};","import { useEffect, useState } from 'react';\r\nimport style from './profile-status.module.css';\r\n\r\n\r\nconst ProfileStatus = (props) => {\r\n    const [editMode, setEditMode] = useState(false);\r\n    const [status, setStatus] = useState(props.profileStatus);\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    };\r\n\r\n    const deActivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateProfileStatus(status);\r\n    };\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.target.value);\r\n    };\r\n\r\n    useEffect(() => {\r\n        setStatus(props.profileStatus)\r\n    }, [props.profileStatus]);\r\n\r\n    return (\r\n        <div className={style.profile_status}>\r\n            {!editMode &&\r\n                <span onDoubleClick={activateEditMode}>{props.profileStatus || 'No status'}</span>\r\n            }\r\n            {editMode &&\r\n                <input onChange={onStatusChange} onBlur={deActivateEditMode} autoFocus value={status}></input>\r\n            }\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ProfileStatus;","import ProfileAvatar from '../avatar/avatar';\r\nimport s from './description.module.css';\r\nimport Preloader from '../../common/preloader/Preloader'\r\nimport ProfileStatus from './profile-status/profile-status-with-hooks';\r\n\r\nconst Description = ({ profile, myProfilePhoto, profileStatus, updateProfileStatus, isOwner, setMainPhoto }) => {\r\n    if (!profile) {\r\n        return <Preloader />\r\n    }\r\n\r\n    const onUploadMainPhoto = (e) => {\r\n        setMainPhoto(e.target.files[0])\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className={s.descr}>\r\n                <ProfileAvatar photo={profile.photos.large} myProfilePhoto={myProfilePhoto}\r\n                    userId={profile.userId} />\r\n                <div className={s.description_items}>\r\n                    <div>{profile.aboutMe}</div>\r\n                    <div>{profile.fullName}</div>\r\n                    <div>Old: 23</div>\r\n                </div>\r\n            </div>\r\n            {!isOwner && <input onChange={onUploadMainPhoto} type=\"file\"></input>}\r\n            <ProfileStatus profileStatus={profileStatus} updateProfileStatus={updateProfileStatus} />\r\n        </>\r\n\r\n    )\r\n};\r\n\r\nexport default Description","// extracted by mini-css-extract-plugin\nexport default {\"postItem\":\"post-item_postItem__opKYc\"};","import s from './post-item.module.css';\r\n\r\nconst PostItem = (props) => {\r\n\r\n    let posts = [...props.postsData]\r\n        .reverse()\r\n        .map(post => (\r\n            <div className={s.postItem}>\r\n                <div>\r\n                    <img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSbvaBdtJ4GaN7m79jU-Y47NqT3Grvxd7qIZ9VKUZKyU1ynYKxoNdlQCixTRDnliBE62os&usqp=CAU\"></img>\r\n                </div>\r\n                <div>{post.text}</div>\r\n                <div>Likes: {post.likesCount}</div>\r\n            </div>)\r\n        );\r\n\r\n    return (\r\n        <div>\r\n            {posts}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default PostItem;","// extracted by mini-css-extract-plugin\nexport default {\"posts\":\"posts_posts__vfLsB\"};","import React, { memo } from 'react';\r\nimport { reduxForm } from 'redux-form';\r\nimport { Field } from 'redux-form';\r\nimport { maxLengthCreator, minLengthCreator, required } from '../../../validators/validators';\r\nimport { Textarea } from '../../common/preloader/form-control/form-control';\r\nimport PostItem from './post-item/post-item';\r\nimport s from './posts.module.css';\r\n// import { addNewPostActionCreater, updateNewPostActionCreater } from '../../../redux/state'\r\n\r\nconst maxLength = maxLengthCreator(10),\r\n    minLength = minLengthCreator(2);\r\n\r\nconst AddNewPostForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <Field component={Textarea} placeholder={\"Type your text\"}\r\n                name={\"NewPostText\"} validate={[required, maxLength, minLength]} />\r\n            <button>Add Post</button>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst AddNewPostReduxForm = reduxForm({\r\n    form: \"ProfileAddNewPostForm\"\r\n})(AddNewPostForm)\r\n\r\nconst Posts = React.memo(props => {\r\n    let state = props.profileData;\r\n\r\n    const onAddNewPost = (values) => {\r\n        props.addPost(values.NewPostText)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={s.posts}>\r\n                <h3>\r\n                    My Posts\r\n                </h3>\r\n                <AddNewPostReduxForm onSubmit={onAddNewPost} />\r\n                <PostItem postsData={state.postsData} />\r\n            </div>\r\n        </div >\r\n    )\r\n});\r\n\r\nexport default Posts;","import { connect } from \"react-redux\";\r\nimport { AddPostActionCreator } from \"../../../redux/actions/actions\";\r\nimport Posts from \"./posts\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        profileData: state.profilePage\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (text) => {\r\n            dispatch(AddPostActionCreator(text))\r\n        },\r\n    }\r\n};\r\n\r\nconst PostContainer = connect(mapStateToProps, mapDispatchToProps)(Posts)\r\n\r\nexport default PostContainer;","// extracted by mini-css-extract-plugin\nexport default {\"profile\":\"profile_profile__I67jP\"};","import Description from './description/description';\r\nimport PostContainer from './posts/post-container';\r\nimport s from './profile.module.css'\r\n\r\nconst Profile = (props) => {\r\n    return (\r\n        <div className={s.profile}>\r\n            <Description profile={props.profile} \r\n            myProfilePhoto={props.profilePhoto}\r\n            profileStatus={props.profileStatus}\r\n            updateProfileStatus={props.updateProfileStatus} \r\n            isOwner={props.owner}\r\n            setMainPhoto={props.setMainPhoto} />\r\n            <PostContainer />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile;","import { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getProfile, getProfileStatus, updateProfileStatus, setMainPhoto } from '../../redux/actions/actions';\r\nimport Profile from './Profile';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\nimport withRouter from '../../hoc/withRouter';\r\n\r\nclass ProfileContainer extends Component {\r\n    refreshProfile() {\r\n        let userId = this.props.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId;\r\n        }\r\n        this.props.getProfile(userId);\r\n        this.props.getProfileStatus(userId);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile()\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (this.props.params.userId !== prevProps.params.userId) {\r\n            this.refreshProfile()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile {...this.props} profile={this.props.profile}\r\n                isOwner={!!this.props.params.userId} />\r\n        )\r\n    }\r\n\r\n};\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        profileStatus: state.profilePage.profileStatus,\r\n        authorizedUserId: state.auth.userId\r\n    }\r\n};\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, { getProfile, getProfileStatus, updateProfileStatus, setMainPhoto }),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer)","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Navigate } from \"react-router\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n};\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComp extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Navigate to=\"/login\" />\r\n            return <Component {...this.props} />\r\n        }\r\n    };\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComp);\r\n\r\n\r\n    return ConnectedAuthRedirectComponent\r\n};\r\n"],"names":["props","className","s","src","photo","userIcon","useState","editMode","setEditMode","profileStatus","status","setStatus","useEffect","style","onDoubleClick","onChange","e","target","value","onBlur","updateProfileStatus","autoFocus","profile","myProfilePhoto","isOwner","setMainPhoto","Preloader","photos","large","userId","aboutMe","fullName","files","type","posts","postsData","reverse","map","post","text","likesCount","maxLength","maxLengthCreator","minLength","minLengthCreator","AddNewPostReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","placeholder","name","validate","required","React","state","profileData","values","addPost","NewPostText","connect","profilePage","dispatch","AddPostActionCreator","Posts","profilePhoto","owner","ProfileContainer","this","params","authorizedUserId","getProfile","getProfileStatus","refreshProfile","prevProps","prevState","Component","compose","auth","withRouter","withAuthRedirect","mapStateToPropsForRedirect","isAuth","RedirectComp","to"],"sourceRoot":""}